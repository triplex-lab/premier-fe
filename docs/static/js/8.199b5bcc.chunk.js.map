{"version":3,"sources":["redux/auth/authOperations.js","component/notification/Notification.module.css","component/forms/signin/FormSignin.module.css","component/forms/signin/FormSignin.js","views/Signin.js","images/logo.png","component/notification/Notification.js","component/UIcomponents/Page/Page.js","component/UIcomponents/Page/Page.module.css","component/logo/MainLogo.js","component/logo/MainLogo.module.css","views/Views.module.css"],"names":["signIn","userData","dispatch","a","authAction","signinRequest","axios","post","then","response","token","data","role","defaults","headers","common","withCredentials","signinSuccess","catch","error","status","message","statusCode","signUp","signupRequest","res","signOut","signoutRequest","delete","signoutSuccess","err","signoutError","finally","recoveryPassword","recoveryPassRequest","recoveryPassSuccess","recoveryPassError","module","exports","validationSchema","yup","email","required","pwd","min","FormSignin","useDispatch","useState","msg","setMsg","setstatus","funSub","formik","useFormik","initialValues","onSubmit","handleSubmit","className","s","root","Notification","cleanMsg","TextField","fullWidth","variant","id","name","label","value","values","onChange","handleChange","touched","Boolean","errors","helperText","type","Button","color","Signin","Page","Container","maxWidth","Box","my","MainLogo","desc","wrap","to","visible","setvisible","useEffect","setTimeout","children","page","img","src","logo","alt"],"mappings":"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","file":"static/js/8.199b5bcc.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport authAction from \"./authActions\";\r\n\r\n\r\nexport const setToken = (token) => {\r\n  axios.defaults.headers.common[\"Authorization\"] = token;\r\n  return;\r\n}\r\n\r\nexport const clearToken = () => {\r\n  axios.defaults.headers.common[\"Authorization\"] = '';\r\n};\r\n\r\nexport const signIn = (userData) => async (dispatch) => {\r\n  dispatch(authAction.signinRequest());\r\n  const statusCode = await axios\r\n    .post(\"/login\", userData)\r\n    .then((response) => {\r\n      setToken(response.data.role)\r\n      axios.defaults.withCredentials = true;\r\n      dispatch(authAction.signinSuccess({\r\n        token: response.data.role,\r\n      }));\r\n    })\r\n    .catch((error) => {\r\n      return { status: '500', message: 'Неверный логин или пароль' };\r\n    });\r\n\r\n  return statusCode;\r\n};\r\n\r\nexport const signUp = (userData) => async (dispatch) => {\r\n  dispatch(authAction.signupRequest());\r\n  return await axios\r\n    .post(\"/register\", userData)\r\n    .then(res => {\r\n      return {status: res.status};\r\n    })\r\n    .catch((error) => {\r\n      return { status: error.response.status, message: error.response.data };\r\n    });\r\n};\r\n\r\nexport const signOut = (token) => (dispatch) => {\r\n  dispatch(authAction.signoutRequest());\r\n  axios\r\n    .delete(\"/signOut\", { token })\r\n    .then(() => {\r\n      dispatch(authAction.signoutSuccess());\r\n    })\r\n    .catch((err) => dispatch(authAction.signoutError(err)))\r\n    .finally(clearToken());\r\n};\r\n\r\nexport const recoveryPassword = (userData) => async (dispatch) => {\r\n  dispatch(authAction.recoveryPassRequest());\r\n  const statusCode = await axios\r\n    .post(\"/api/auth/recoverypass\", userData)\r\n    .then(({ status }) => {\r\n      dispatch(authAction.recoveryPassSuccess(status));\r\n      return { status };\r\n    })\r\n    .catch((error) => {\r\n      dispatch(authAction.recoveryPassError(error.response));\r\n      return { status: error.response.status, message: error.response.data };\r\n    });\r\n  return statusCode;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Notification_root__1dcdS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FormSignin_root__3qMOt\"};","import React, { useState, useEffect } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useFormik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport s from \"./FormSignin.module.css\";\r\nimport { signIn } from \"../../../redux/auth/authOperations\";\r\nimport Notification from \"../../notification/Notification\";\r\nimport axios from 'axios';\r\n\r\nconst validationSchema = yup.object({\r\n  email: yup\r\n    .string(\"Enter your email\")\r\n    .email(\"Enter a valid email\")\r\n    .required(\"Email is required\"),\r\n  pwd: yup\r\n    .string(\"Enter your password\")\r\n    .min(1, \"Password should be of minimum 8 characters length\")\r\n    .required(\"Password is required\"),\r\n});\r\n\r\nexport default function FormSignin() {\r\n  const dispatch = useDispatch();\r\n\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [status, setstatus] = useState(\"\");\r\n\r\n  const funSub = async (data) => {\r\n    const statusCode = await dispatch(signIn(data));\r\n    setMsg(statusCode.message);\r\n    setstatus(statusCode.status);\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n      pwd: \"\",\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: funSub,\r\n  });\r\n\r\n  return (\r\n    <form onSubmit={formik.handleSubmit} className={s.root}>\r\n      <Notification message={msg} cleanMsg={() => setMsg(\"\")} />\r\n      <TextField\r\n        fullWidth\r\n        variant=\"outlined\"\r\n        id=\"email\"\r\n        name=\"email\"\r\n        label=\"Email\"\r\n        value={formik.values.email}\r\n        onChange={formik.handleChange}\r\n        error={formik.touched.email && Boolean(formik.errors.email)}\r\n        helperText={formik.touched.email && formik.errors.email}\r\n      />\r\n      <TextField\r\n        fullWidth\r\n        variant=\"outlined\"\r\n        id=\"pwd\"\r\n        name=\"pwd\"\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        value={formik.values.pwd}\r\n        onChange={formik.handleChange}\r\n        error={formik.touched.pwd && Boolean(formik.errors.pwd)}\r\n        helperText={formik.touched.pwd && formik.errors.pwd}\r\n      />\r\n      <Button color=\"primary\" variant=\"contained\" fullWidth type=\"submit\">\r\n        Войти\r\n      </Button>\r\n    </form>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { Box } from \"@material-ui/core\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport Page from \"../component/UIcomponents/Page/Page\";\r\nimport MainLogo from \"../component/logo/MainLogo\";\r\nimport FormSignin from \"../component/forms/signin/FormSignin\";\r\nimport s from \"./Views.module.css\";\r\n\r\nexport default function Signin() {\r\n  return (\r\n    <Page>\r\n      <Container maxWidth=\"sm\">\r\n        <Box my={4}>\r\n          <MainLogo />\r\n          <h2>Вход</h2>\r\n          <FormSignin />\r\n\r\n          <p className={s.desc}>\r\n            Еще нет аккаунта? Тогда переходи на страницу регистрации. Жми кнопку\r\n            Зарегистрироваться.\r\n          </p>\r\n          <div className={s.wrap}>\r\n            <Link to={`/signup/ref`}>\r\n              <Button fullWidth variant=\"outlined\" color=\"primary\">\r\n                Зарегистрироваться\r\n              </Button>\r\n            </Link>\r\n            <Link to={`/recovery-password`}>\r\n              <Button fullWidth variant=\"outlined\" color=\"primary\">\r\n                Востановить пароль\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </Box>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.47cf62a7.png\";","import React, { useEffect, useState } from \"react\";\r\nimport s from \"./Notification.module.css\";\r\n\r\nexport default function Notification({ message = \"\", cleanMsg }) {\r\n  const [visible, setvisible] = useState(false);\r\n  useEffect(() => {\r\n    if (message !== \"\") {\r\n      setvisible(true);\r\n      setTimeout(() => {\r\n        cleanMsg();\r\n        setvisible(false);\r\n      }, 2000);\r\n    }\r\n  }, [message]);\r\n  return <>{visible && <p className={s.root}>{message}</p>}</>;\r\n}\r\n","import React from \"react\";\r\nimport s from \"./Page.module.css\";\r\n\r\nexport default function Page({ children }) {\r\n  return <div className={s.page}>{children}</div>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Page_page__T8166\"};","import React from \"react\";\r\nimport s from \"./MainLogo.module.css\";\r\nimport logo from \"../../images/logo.png\";\r\n\r\nexport default function MainLogo() {\r\n  return (\r\n    <div className={s.root}>\r\n      <img className={s.img} src={logo} alt=\"logo\" />\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MainLogo_root__10GcO\",\"img\":\"MainLogo_img__2_A1L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Views_wrap__2AYoM\"};"],"sourceRoot":""}