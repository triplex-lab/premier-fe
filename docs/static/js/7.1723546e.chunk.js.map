{"version":3,"sources":["redux/auth/authOperations.js","component/notification/Notification.module.css","component/forms/recoveryPassword/FormRecoveryPassword.module.css","component/forms/recoveryPassword/FormRecoveryPassword.js","views/RecoveryPassword.js","images/logo.png","component/notification/Notification.js","component/UIcomponents/Page/Page.js","component/UIcomponents/Page/Page.module.css","component/logo/MainLogo.js","component/logo/MainLogo.module.css","views/Views.module.css"],"names":["signIn","userData","dispatch","a","authAction","signinRequest","axios","post","then","response","token","data","role","defaults","headers","common","withCredentials","signinSuccess","catch","error","status","message","statusCode","signUp","signupRequest","res","signOut","signoutRequest","delete","signoutSuccess","err","signoutError","finally","recoveryPassword","recoveryPassRequest","recoveryPassSuccess","recoveryPassError","module","exports","validationSchema","yup","email","required","FormRecoveryPassword","useDispatch","useState","msg","setMsg","setstatus","funSub","formik","useFormik","initialValues","onSubmit","handleSubmit","className","s","root","Notification","cleanMsg","TextField","fullWidth","variant","id","name","label","value","values","onChange","handleChange","touched","Boolean","errors","helperText","Button","color","type","disabled","RecoveryPassword","Page","Container","maxWidth","Box","my","MainLogo","wrap","to","visible","setvisible","useEffect","setTimeout","children","page","img","src","logo","alt"],"mappings":"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","file":"static/js/7.1723546e.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport authAction from \"./authActions\";\r\n\r\n\r\nexport const setToken = (token) => {\r\n  axios.defaults.headers.common[\"Authorization\"] = token;\r\n  return;\r\n}\r\n\r\nexport const clearToken = () => {\r\n  axios.defaults.headers.common[\"Authorization\"] = '';\r\n};\r\n\r\nexport const signIn = (userData) => async (dispatch) => {\r\n  dispatch(authAction.signinRequest());\r\n  const statusCode = await axios\r\n    .post(\"/login\", userData)\r\n    .then((response) => {\r\n      setToken(response.data.role)\r\n      axios.defaults.withCredentials = true;\r\n      dispatch(authAction.signinSuccess({\r\n        token: response.data.role,\r\n      }));\r\n    })\r\n    .catch((error) => {\r\n      return { status: '500', message: 'Неверный логин или пароль' };\r\n    });\r\n\r\n  return statusCode;\r\n};\r\n\r\nexport const signUp = (userData) => async (dispatch) => {\r\n  dispatch(authAction.signupRequest());\r\n  return await axios\r\n    .post(\"/register\", userData)\r\n    .then(res => {\r\n      return {status: res.status};\r\n    })\r\n    .catch((error) => {\r\n      return { status: error.response.status, message: error.response.data };\r\n    });\r\n};\r\n\r\nexport const signOut = (token) => (dispatch) => {\r\n  dispatch(authAction.signoutRequest());\r\n  axios\r\n    .delete(\"/signOut\", { token })\r\n    .then(() => {\r\n      dispatch(authAction.signoutSuccess());\r\n    })\r\n    .catch((err) => dispatch(authAction.signoutError(err)))\r\n    .finally(clearToken());\r\n};\r\n\r\nexport const recoveryPassword = (userData) => async (dispatch) => {\r\n  dispatch(authAction.recoveryPassRequest());\r\n  const statusCode = await axios\r\n    .post(\"/api/auth/recoverypass\", userData)\r\n    .then(({ status }) => {\r\n      dispatch(authAction.recoveryPassSuccess(status));\r\n      return { status };\r\n    })\r\n    .catch((error) => {\r\n      dispatch(authAction.recoveryPassError(error.response));\r\n      return { status: error.response.status, message: error.response.data };\r\n    });\r\n  return statusCode;\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Notification_root__1dcdS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"FormRecoveryPassword_root__2C6pb\"};","import React, { useState } from \"react\";\r\nimport { useFormik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport s from \"./FormRecoveryPassword.module.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { recoveryPassword } from \"../../../redux/auth/authOperations\";\r\nimport Notification from \"../../notification/Notification\";\r\n\r\nconst validationSchema = yup.object({\r\n  email: yup\r\n    .string(\"Enter your email\")\r\n    .email(\"Enter a valid email\")\r\n    .required(\"Email is required\"),\r\n});\r\n\r\nexport default function FormRecoveryPassword() {\r\n  const dispatch = useDispatch();\r\n\r\n  const [msg, setMsg] = useState(\"\");\r\n  const [status, setstatus] = useState(\"\");\r\n\r\n  const funSub = async (data) => {\r\n    const statusCode = await dispatch(recoveryPassword(data));\r\n    setMsg(statusCode.message);\r\n    setstatus(statusCode.status);\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: funSub,\r\n  });\r\n\r\n  return (\r\n    <form onSubmit={formik.handleSubmit} className={s.root}>\r\n      <Notification message={msg} cleanMsg={() => setMsg(\"\")} />\r\n      <TextField\r\n        fullWidth\r\n        variant=\"outlined\"\r\n        id=\"email\"\r\n        name=\"email\"\r\n        label=\"Email\"\r\n        value={formik.values.email}\r\n        onChange={formik.handleChange}\r\n        error={formik.touched.email && Boolean(formik.errors.email)}\r\n        helperText={formik.touched.email && formik.errors.email}\r\n      />\r\n      {/* <Button color=\"primary\" variant=\"contained\" fullWidth type=\"submit\">\r\n        Востановить пароль\r\n      </Button> */}\r\n      {status !== 200 ? (\r\n        <Button color=\"primary\" variant=\"contained\" fullWidth type=\"submit\">\r\n          Востановить пароль\r\n        </Button>\r\n      ) : (\r\n        <Button disabled variant=\"outlined\" fullWidth type=\"submit\">\r\n          востановления пароля успешно проверьте почту\r\n        </Button>\r\n      )}\r\n    </form>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Container } from \"@material-ui/core\";\r\nimport { Box } from \"@material-ui/core\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport Page from \"../component/UIcomponents/Page/Page\";\r\nimport MainLogo from \"../component/logo/MainLogo\";\r\nimport FormRecoveryPassword from \"../component/forms/recoveryPassword/FormRecoveryPassword\";\r\nimport s from \"./Views.module.css\";\r\n\r\nexport default function RecoveryPassword() {\r\n  return (\r\n    <Page>\r\n      <Container maxWidth=\"sm\">\r\n        <Box my={4}>\r\n          <MainLogo />\r\n          <h2>Востановить пароль</h2>\r\n\r\n          <FormRecoveryPassword />\r\n\r\n          <div className={s.wrap}>\r\n            <Link to={`/signin`}>\r\n              <Button fullWidth variant=\"contained\" color=\"primary\">\r\n                Войти\r\n              </Button>\r\n            </Link>\r\n\r\n            <Link to={`/`}>\r\n              <Button fullWidth variant=\"outlined\" color=\"primary\">\r\n                На главную\r\n              </Button>\r\n            </Link>\r\n          </div>\r\n        </Box>\r\n      </Container>\r\n    </Page>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.47cf62a7.png\";","import React, { useEffect, useState } from \"react\";\r\nimport s from \"./Notification.module.css\";\r\n\r\nexport default function Notification({ message = \"\", cleanMsg }) {\r\n  const [visible, setvisible] = useState(false);\r\n  useEffect(() => {\r\n    if (message !== \"\") {\r\n      setvisible(true);\r\n      setTimeout(() => {\r\n        cleanMsg();\r\n        setvisible(false);\r\n      }, 2000);\r\n    }\r\n  }, [message]);\r\n  return <>{visible && <p className={s.root}>{message}</p>}</>;\r\n}\r\n","import React from \"react\";\r\nimport s from \"./Page.module.css\";\r\n\r\nexport default function Page({ children }) {\r\n  return <div className={s.page}>{children}</div>;\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"Page_page__T8166\"};","import React from \"react\";\r\nimport s from \"./MainLogo.module.css\";\r\nimport logo from \"../../images/logo.png\";\r\n\r\nexport default function MainLogo() {\r\n  return (\r\n    <div className={s.root}>\r\n      <img className={s.img} src={logo} alt=\"logo\" />\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MainLogo_root__10GcO\",\"img\":\"MainLogo_img__2_A1L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"Views_wrap__2AYoM\"};"],"sourceRoot":""}